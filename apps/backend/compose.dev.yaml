services:
  mariadb:
    image: mariadb:latest
    environment:
      MARIADB_ROOT_PASSWORD: aze첫azls첫mdkflksqf첫ojzerijflksdlkfjqlmsdkjf첫iezjrflksdjlmfkqsdjmflqjsfioez
      MARIADB_USER: wokedex_local
      MARIADB_PASSWORD: wokedex_development
      MARIADB_DATABASE: wokedex
    ports:
      - 3306:3306
    expose:
      - 3306
  wokedex-backend:
    depends_on:
      - mariadb
    # build: .
    image: test/wokedex:latest
    expose:
      - 4447
    ports:
      - 4447:4447
    volumes:
      - .:/wokedex/backend
      - /wokedex/backend
    environment:
      PORT: 4447
      HOST: 0.0.0.0
      ENV: docker_back_dev
      DB_CLIENT: mysql2
      DB_USER: wokedex_local
      DB_PASS: wokedex_development
      DB_HOST: mariadb
      DB_PORT: 3306
      DB_NAME: wokedex
